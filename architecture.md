                                                                                  
             CLI                   Controller process         Container process   
  (spawn controller processs)         (ephemeral)               (persistent)      
                                                                                  
                                          ─┬─                                     
                                           │                                      
          ┌────────┐                  ┌────┴───┐   ┌────┐                         
          │ create ├─────────────────►│        ├──►│ db │                         
          └────────┘                  └─┬──┬───┘   └────┘                         
          ┌────────┐                    │  │                                      
          │ reexec │◄───────────────────┘  │                                      
          └───┬────┘                       │                                      
              │                       ┌────┴───┐                  ┌────────┐      
              └──────────────────────►│        ├─────────────────►│        │      
                                      └────┬───┘                  └───┬────┘      
                                      ┌────┴───┐                      │           
                                      │ update │◄─────────────────────┘           
                                      └────┬─┬─┘   ┌────┐                         
                                           │ └────►│ db │                         
                                          ─┴─      └────┘                         
                                                                                  
                                                                                  
                                          ─┬─                                     
                                           │                                      
          ┌────────┐                  ┌────┴───┐   ┌────┐                         
          │ start  ├─────────────────►│ load   ├──►│ db │                         
          └────────┘                  └────┬───┘   └────┘                         
                                      ┌────┴───┐                  ┌────────┐      
                                      │ start  ├─────────────────►│        │      
                                      └────┬───┘                  └───┬────┘      
                                      ┌────┴───┐                      │           
                                      │ update │◄─────────────────────┘           
                                      └────┬─┬─┘   ┌────┐                         
                                           │ └────►│ db │                         
                                          ─┴─      └────┘                         
                                                                                  
                                                                                  
                                          ─┬─                                     
                                           │                                      
          ┌────────┐                  ┌────┴───┐   ┌────┐                         
          │ state  ├─────────────────►│ load   ├──►│ db │                         
          └────────┘                  └────┬───┘   └────┘                         
                                           │                                      
                                          ─┴─                                     
                                                                                  
                                                                                  
                                          ─┬─                                     
                                           │                                      
          ┌────────┐                  ┌────┴───┐   ┌────┐                         
          │ kill   ├─────────────────►│ load   ├──►│ db │                         
          └────────┘                  └────┬───┘   └────┘                         
                                      ┌────┴───┐                  ┌────────┐      
                                      │ kill   ├─────────────────►│        │      
                                      └────┬───┘                  └───┬────┘      
                                      ┌────┴───┐                      │           
                                      │ update │◄─────────────────────┘           
                                      └────┬─┬─┘   ┌────┐                         
                                           │ └────►│ db │                         
                                          ─┴─      └────┘                         
                                                                                  
                                                                                  
                                          ─┬─                                     
                                           │                                      
          ┌────────┐                  ┌────┴───┐   ┌────┐                         
          │ delete ├─────────────────►│ load   ├──►│ db │                         
          └────────┘                  └────┬───┘   └────┘                         
                                      ┌────┴───┐                  ┌────────┐      
                                      │ delete ├─────────────────►│        │      
                                      └────┬───┘                  └───┬────┘      
                                      ┌────┴───┐                      │           
                                      │ update │◄─────────────────────┘           
                                      └────┬─┬─┘   ┌────┐                         
                                           │ └────►│ db │                         
                                          ─┴─      └────┘                         
                                                                                  
